# COVIDTrail-Web

## Business Case Description

COVIDTrail is an app developed to help the merchants adapt to some of the required changes that were put in place to fight against COVID-19. Contact tracing has emerged as one of the most effective public health tools to stop the transmission of COVID-19. Contact tracing is done by getting the contact information, time, and date of people getting in their establishment. Some of the merchants are doing the process of contact tracing by manually writing the contact information on a sheet of paper. There are establishments who has a staff that is responsible for going around the establishment and asking about the contact information of the people entering and there are also establishments wherein they ask the customers to write their contact information.

COVIDTrail simplifies the process of contact tracing that will result to less contact between staff and customers, decrease the time in tracing the possible contacts of a person infected by COVID-19 that went into the establishment, increase the efficiency and productivity of the staff, and reduce the errors in getting the contact information.

COVIDTrail is a mobile accessible web application that simplifies the process of getting information used for contact tracing for users and merchants.

## Architecture, Configurations and Policies

The application has been developed in C# with .NET Core. CodePros used repository pattern and separated concerns to controller, mappings, models and services. DTOs also can been found under models and they are used for request JSON body or response JSON body. Controller handles RESTful API route structure; however, logic can be found in services. In services, while an interface is called from controller, the interface is connected to a repository implementing the corresponding interface. Repository contains logic that converts model to DTO and DTO to model using AutoMapper, access DynamoDB for CRUD operation, and handle any required conversion or calculation. Currently, 12 routes are available.

COVIDTrail uses 2 tables: User and Log. User table contains fields as: Email, Name, Type, Address, City, Province, PostalCode, PhoneNumber and Password. Email is used as a partition key as it would be a unique value for each user. Duplicated email validation is also in place to check if it is unique value prior to create a new user. Name contains the name of a business or a user. Type is either ‘personal’ or ‘business’ so that user role can be identified. Password contains password of a user while PhoneNumber is used to hold personal or business phone number. Address, City, Province and PostalCode are used to store full address of a user. The table is designed to handle log- in function so that the user can save their own logs and personal information. Also, a user can use general functionalities only if the one is registered.

Log table contains Id, BusinessEmail, ClientEmail, VisitedDate and VisitedTime. Id is used as a partition key and its value is generated randomly as a GUID when CreateLog route is called as there can be multiple logs with the same business and client. BusinessEmail and ClientEmail is a user email of type business and personal, respectively. These two fields are used as an identifier for displaying logs for each user. VisitedDate and VisitedTime store date and time when the check-in happens. This table is designed to handle check-in logs between business and personal user.

### Deployment to Elastic Beanstalk

Back-end application of COVIDTrail had been deployed to AWS Elastic Beanstalk so that the developed RESTful APIs can be accessed by public. However, front-end application does not use the route generated by AWS Elastic Beanstalk as it does not have proper security policy in place to protect route and database. This route is called in Apigee that acts as a proxy server.

### Apigee Portal with Various Policies

Exposing back-end APIs, on the front-end application, that is deployed to AWS Elastic Beanstalk without any security measure is vulnerable to a cyber-attack and can be easily misused. In order to handle the issue, CodePros used Apigee to create a portal for a public use and applied policies including, but not limited to the use of API key for a security purpose. API key is used to block anonymous user from accessing any API without sending the proper key as a part of the request. Additionally, CORS policy has been used to accept other origins. Apigee also enable developers to view the statistics regarding APIs being called as all routes integrated in the front-end go through Apigee without exposing the back-end application deployed to AWS Elastic Beanstalk.
